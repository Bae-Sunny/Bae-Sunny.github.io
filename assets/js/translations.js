const translations = {
    'ko': {
        'portfolio_title_suffix': '풀스택 개발자 포트폴리오',
        'language_name': '한국어',
        'nav_about': '소개',
        'nav_projects': '프로젝트',
        'nav_skills': '기술',
        'nav_contact': '연락처',
        'hero_name': '배선화',
        'hero_title': '데이터로 문제를 해결하고 기술로 가치를 만드는 개발자',
        'hero_github': 'GitHub',
        'hero_email': 'Email',
        'hero_years': '경험',
        'hero_projects': '프로젝트',
        'hero_stacks': '기술 스택',
        'hero_scroll': '더 알아보기',
        'about_title': '성장 스토리',
        'about_subtitle': '데이터의 가능성을 발견하고, 직접 솔루션을 만드는 개발자로 성장한 이야기',
        'current_career': 'IT 시스템 운영 및 개선',
        'current_year': '2023 ~ 현재',
        'current_role': '데이터 분석 기반 시스템 운영 효율화 및 프로젝트 개선 주도',
        'current_desc1': '데이터 분석 기반 ERP 운영 효율화 및 비용 절감 기여',
        'current_desc2': '사용자 요구사항 분석 및 시스템 개선 프로젝트 기획/주도',
        'current_desc3': '개발팀 협업 및 기술 문제 해결 통한 비즈니스 가치 창출',
        'dev_transition': '개발 역량 집중 강화',
        'dev_year': '2024',
        'dev_role': '풀스택 개발 및 AI/ML 역량 내재화',
        'dev_desc1': '1120시간 집중 풀스택 교육 이수 (기업 실무 프로젝트 최우수상)',
        'dev_desc2': '다수 개인/팀 프로젝트 통해 실전 개발 역량 및 문제 해결 능력 강화',
        'dev_desc3': '데이터 분석 및 AI/ML 기술 학습 및 실제 프로젝트 적용',
        'prev_career': 'IT 지원 및 기획',
        'prev_year': '다년간',
        'prev_role': '개발 역량 전환의 계기 마련',
        'prev_desc1': 'IT 지원/기획 경험 통해 개발 프로세스 및 생태계 이해',
        'prev_desc2': '데이터 기반 의사결정의 중요성과 직접 개발의 필요성 체감',
        'prev_desc3': '사용자 문제 해결 위한 기술 솔루션 구현에 대한 갈망 시작',
        'academic': '학업 및 기초 역량',
        'academic_year': '2022 ~ 2024',
        'academic_role': '컴퓨터과학 기초 및 개발 역량 기반 구축',
        'academic_desc1': '컴퓨터과학 학사 취득 통한 탄탄한 CS 기본기 확보',
        'academic_desc2': '알고리즘, 데이터 구조 등 핵심 과목 이수',
        'academic_desc3': '개발 관련 이론 및 실습 병행 학습',
        'projects_title': '프로젝트',
        'projects_subtitle': '데이터와 기술을 활용해 아이디어를 현실로 만든 프로젝트 경험',
        'project1_title': '🏟️ KBO 리그 통합 데이터 플랫폼',
        'project1_tag': '데이터 플랫폼',
        'project1_desc': '수집-통합-분석 파이프라인',
        'project2_title': '☕ 커피 원두 등급 예측 서비스',
        'project2_tag': 'AI/ML 웹',
        'project2_desc': 'KNN 알고리즘으로 커피 원두 특성 데이터 기반 등급을 예측하고, 웹 서비스로 사용자에게 편리함을 제공합니다.',
        'project3_title': '🎭 AI 이미지 분석 (마스크 & 퍼스널컬러)',
        'project3_tag': 'AI 비전 웹',
        'project3_desc': '딥러닝 모델(TF, OpenCV)과 웹 서비스(Vue, Spring)를 결합하여 이미지 분석 결과를 사용자에게 유용하게 전달합니다.',
        'project4_title': '🚀 AI 면접 포함 취업 지원 서비스',
        'project4_tag': '풀스택 AI',
        'project4_desc': 'AI 기술과 웹 서비스를 결합하여 취업 준비생들의 실질적인 어려움을 해결하는 풀스택 개발 경험을 쌓았습니다.',
        'project5_title': '🎤 인터뷰 답변 분석기',
        'project5_tag': 'NLP AI',
        'project5_desc': 'KoBERT 모델을 활용하여 면접 답변의 의도를 분석하고, 카테고리/표현/직무 예측 및 맞춤 피드백을 제공합니다.',
        'project6_title': '🎨 퍼스널 컬러 진단 알고리즘',
        'project6_tag': '컴퓨터 비전 AI',
        'project6_desc': 'AI로 얼굴/눈 색상을 분석하여 최적의 퍼스널 컬러 시즌을 진단하는 알고리즘을 개발했습니다.',
        'project7_title': '🤖 ChatGPT 기반 서비스 기획',
        'project7_tag': 'AI 기획',
        'project7_desc': '보이스피싱 대응 시뮬레이션 훈련 서비스 기획',
        'project8_title': '🛍️ 스마트스토어 FAQ 기반 RAG 챗봇',
        'project8_tag': '풀스택 AI',
        'project8_desc': 'OpenAI GPT + ChromaDB 기반 벡터검색 챗봇',
        'project_demo': '상세보기',
        'project_github': 'GitHub',
        'project_ppt': '발표자료',
        'skills_title': '기술 스택',
        'skills_subtitle': '문제 해결과 성장을 위해 익히고 활용하는 기술들',
        'skills_frontend': 'Frontend',
        'skills_backend': 'Backend',
        'skills_database': 'Database',
        'skills_ai': 'AI/ML & Data',
        'skills_devops': 'DevOps & Cloud',
        'skills_tools': 'Tools & Collaboration',
        'skills_design': 'Design & Analysis',
        'skills_doc': 'Documentation',
        'skills_ide': 'Development Environments',
        'contact_title': '함께 성장하고 싶습니다',
        'contact_subtitle': '데이터와 기술로 함께 가치를 만들 기회를 기다립니다.',
        'contact_info': '연락처',
        'contact_email': '이메일',
        'contact_github': 'GitHub',
        'contact_form': '메시지 남기기',
        'contact_name': '이름',
        'contact_name_placeholder': '성함을 알려주세요',
        'contact_email_placeholder': '회신 받으실 이메일 주소',
        'contact_message': '메시지',
        'contact_message_placeholder': '저에게 하고 싶은 이야기를 남겨주세요',
        'contact_send': '메시지 보내기',
        'footer_copyright': '© 2025 배선화 포트폴리오. All rights reserved.'
    },
    'en': {
        'portfolio_title_suffix': 'Full Stack Developer Portfolio',
        'language_name': 'English',
        'nav_about': 'About',
        'nav_projects': 'Projects',
        'nav_skills': 'Skills',
        'nav_contact': 'Contact',
        'hero_name': 'Bae Sunny',
        'hero_title': 'Developer Solving Problems with Data & Creating Value with Technology',
        'hero_github': 'GitHub',
        'hero_email': 'Email',
        'hero_years': 'Experience',
        'hero_projects': 'Projects',
        'hero_stacks': 'Tech Stacks',
        'hero_scroll': 'Learn More',
        'about_title': 'My Journey',
        'about_subtitle': 'Discovering the potential of data and growing into a developer who builds solutions',
        'current_career': 'IT System Operation & Improvement',
        'current_year': '2023 ~ Present',
        'current_role': 'Leading data-driven system operation efficiency and project improvement',
        'current_desc1': 'Contributed to ERP operational efficiency and cost reduction based on data analysis',
        'current_desc2': 'Led requirement analysis, planning, and execution of system improvement projects',
        'current_desc3': 'Created business value through collaboration with development teams and technical problem-solving',
        'dev_transition': 'Intensive Skill Enhancement',
        'dev_year': '2024',
        'dev_role': 'Internalizing Full-Stack Development and AI/ML Capabilities',
        'dev_desc1': 'Completed 1120-hour intensive full-stack training (Top Project Award)',
        'dev_desc2': 'Strengthened practical development and problem-solving skills through multiple projects',
        'dev_desc3': 'Learned and applied data analysis and AI/ML techniques in actual projects',
        'prev_career': 'IT Support & Planning',
        'prev_year': 'Years of Experience',
        'prev_role': 'Foundation for Career Transition to Development',
        'prev_desc1': 'Understood development processes and ecosystem through IT support/planning experience',
        'prev_desc2': 'Realized the importance of data-driven decisions and the need for direct development',
        'prev_desc3': 'Sparked the desire to implement technical solutions for user problems',
        'academic': 'Academic & Foundational Skills',
        'academic_year': '2022 ~ 2024',
        'academic_role': 'Building Foundation in Computer Science & Development Skills',
        'academic_desc1': 'Acquired solid CS fundamentals through a Computer Science degree',
        'academic_desc2': 'Completed core subjects like Algorithms and Data Structures',
        'academic_desc3': 'Combined theoretical learning with hands-on practice in development',
        'projects_title': 'Projects',
        'projects_subtitle': 'Project experiences turning ideas into reality using data and technology',
        'project1_title': '🏟️ KBO League Integrated Data Platform',
        'project1_tag': 'Data Platform',
        'project1_desc': 'Data Collection, Integration, and Analysis Pipeline',
        'project2_title': '☕ Coffee Bean Grade Prediction Service',
        'project2_tag': 'AI/ML Web',
        'project2_desc': 'Predicts coffee bean grades using the KNN algorithm based on characteristic data, offering user convenience via a web service.',
        'project3_title': '🎭 AI Image Analysis (Mask & Personal Color)',
        'project3_tag': 'AI Vision Web',
        'project3_desc': 'Combines deep learning models (TF, OpenCV) with a web service (Vue, Spring) to deliver useful image analysis results to users.',
        'project4_title': '🚀 Employment Support Service with AI Interview',
        'project4_tag': 'Full-Stack AI',
        'project4_desc': 'Gained full-stack development experience by combining AI technology and web services to solve practical difficulties for job seekers.',
        'project5_title': '🎤 Interview Response Analyzer',
        'project5_tag': 'NLP AI',
        'project5_desc': 'Utilizes the KoBERT model to analyze the intent of interview responses, providing predictions for category/expression/job relevance and customized feedback.',
        'project6_title': '🎨 Personal Color Diagnosis Algorithm',
        'project6_tag': 'CV AI',
        'project6_desc': 'Developed an algorithm that diagnoses the optimal personal color season by analyzing face/eye colors using AI.',
        'project7_title': '🤖 ChatGPT-Based Service Planning',
        'project7_tag': 'AI Planning',
        'project7_desc': 'Voice Phishing Response Simulation Training Service Planning',
        'project8_title': '🛍️ Smartstore FAQ-based RAG Chatbot',
        'project8_tag': 'Full-Stack AI',
        'project8_desc': 'Vector Search Chatbot Based on OpenAI GPT and ChromaDB',
        'project_demo': 'Details',
        'project_github': 'GitHub',
        'project_ppt': 'Presentation',
        'skills_title': 'Skills',
        'skills_subtitle': 'Technologies I use for problem-solving and growth',
        'skills_frontend': 'Frontend',
        'skills_backend': 'Backend',
        'skills_database': 'Database',
        'skills_ai': 'AI/ML & Data',
        'skills_devops': 'DevOps & Cloud',
        'skills_tools': 'Tools & Collaboration',
        'skills_design': 'Design & Analysis',
        'skills_doc': 'Documentation',
        'skills_ide': 'Development Environments',
        'contact_title': 'Let\'s Grow Together',
        'contact_subtitle': 'Looking for opportunities to create value together with data and technology.',
        'contact_info': 'Contact Info',
        'contact_email': 'Email',
        'contact_github': 'GitHub',
        'contact_form': 'Leave a Message',
        'contact_name': 'Name',
        'contact_name_placeholder': 'Your Name',
        'contact_email_placeholder': 'Your Email Address',
        'contact_message': 'Message',
        'contact_message_placeholder': 'Your message here...',
        'contact_send': 'Send Message',
        'footer_copyright': '© 2025 Bae Sunny Portfolio. All rights reserved.'
    },
    'ja': {
        'portfolio_title_suffix': 'フルスタック開発者ポートフォリオ',
        'language_name': '日本語',
        'nav_about': '自己紹介',
        'nav_projects': 'プロジェクト',
        'nav_skills': 'スキル',
        'nav_contact': '連絡先',
        'hero_name': '裵 善花',
        'hero_title': 'データで問題を解決し、技術で価値を創造する開発者',
        'hero_github': 'GitHub',
        'hero_email': 'メール',
        'hero_years': '経験',
        'hero_projects': 'プロジェクト',
        'hero_stacks': '技術スタック',
        'hero_scroll': '詳しく見る',
        'about_title': '私の歩み',
        'about_subtitle': 'データの可能性を発見し、自らソリューションを創り出す開発者へと成長した物語',
        'current_career': 'ITシステム運用・改善',
        'current_year': '2023年 ~ 現在',
        'current_role': 'データ分析に基づくシステム運用効率化及びプロジェクト改善主導',
        'current_desc1': 'データ分析に基づくERP運用効率化及びコスト削減に貢献',
        'current_desc2': 'ユーザー要求分析及びシステム改善プロジェクトの企画・主導',
        'current_desc3': '開発チームとの協業及び技術的問題解決を通じたビジネス価値創出',
        'dev_transition': '開発能力集中強化',
        'dev_year': '2024年',
        'dev_role': 'フルスタック開発及びAI/ML能力の内在化',
        'dev_desc1': '1120時間集中フルスタック教育修了（企業連携プロジェクト最優秀賞）',
        'dev_desc2': '多数の個人・チームプロジェクトを通じて実践的な開発能力及び問題解決能力を強化',
        'dev_desc3': 'データ分析及びAI/ML技術の学習と実際のプロジェクトへの適用',
        'prev_career': 'ITサポート・企画',
        'prev_year': '長年の経験',
        'prev_role': '開発者へのキャリア転換の契機',
        'prev_desc1': 'ITサポート・企画経験を通じて開発プロセス及びエコシステムを理解',
        'prev_desc2': 'データに基づく意思決定の重要性と直接開発の必要性を体感',
        'prev_desc3': 'ユーザーの問題解決のための技術的ソリューション実装への渇望が始まる',
        'academic': '学業・基礎能力',
        'academic_year': '2022年 ~ 2024年',
        'academic_role': 'コンピュータサイエンス基礎及び開発能力基盤構築',
        'academic_desc1': 'コンピュータサイエンス学士取得による強固なCS基礎を確保',
        'academic_desc2': 'アルゴリズム、データ構造など核心科目を履修',
        'academic_desc3': '開発関連の理論と実践を並行学習',
        'projects_title': 'プロジェクト',
        'projects_subtitle': 'データと技術を活用し、アイデアを現実に変えたプロジェクト経験',
        'project1_title': '🏟️ KBOリーグ統合データプラットフォーム',
        'project1_tag': 'データプラットフォーム',
        'project1_desc': '収集・統合・分析パイプライン',
        'project2_title': '☕ コーヒー豆グレード予測サービス',
        'project2_tag': 'AI/ML Web',
        'project2_desc': 'KNNアルゴリズムでコーヒー豆の特性データに基づきグレードを予測し、Webサービスでユーザーに利便性を提供します。',
        'project3_title': '🎭 AI画像分析(マスク＆パーソナルカラー)',
        'project3_tag': 'AI Vision Web',
        'project3_desc': 'ディープラーニングモデル(TF, OpenCV)とWebサービス(Vue, Spring)を連携させ、画像分析結果をユーザーに有用に伝達します。',
        'project4_title': '🚀 AI面接含む就職支援サービス',
        'project4_tag': 'フルスタック AI',
        'project4_desc': 'AI技術とWebサービスを組み合わせ、就職準備生の実質的な困難を解決するフルスタック開発経験を積みました。',
        'project5_title': '🎤 インタビュー回答分析器',
        'project5_tag': 'NLP AI',
        'project5_desc': 'KoBERTモデルを活用し、面接回答の意図を分析し、カテゴリ/表現/職務関連予測及びカスタマイズされたフィードバックを提供します。',
        'project6_title': '🎨 パーソナルカラー診断アルゴリズム',
        'project6_tag': 'CV AI',
        'project6_desc': 'AIで顔/目の色を分析し、最適なパーソナルカラーシーズンを診断するアルゴリズムを開発しました。',
        'project7_title': '🤖 ChatGPTベースのサービスプラン',
        'project7_tag': 'AIプラン',
        'project7_desc': 'ボイスフィッシング対策シミュレーション訓練サービス企画',
        'project8_title': '🛍️ Smartstore FAQベースRAGチャットボット',
        'project8_tag': 'フルスタック AI',
        'project8_desc': 'OpenAI GPTとChromaDBを活用したベクトル検索チャットボット',
        'project_demo': '詳細',
        'project_github': 'GitHub',
        'project_ppt': '発表資料',
        'skills_title': '技術スタック',
        'skills_subtitle': '問題解決と成長のために習得・活用している技術',
        'skills_frontend': 'フロントエンド',
        'skills_backend': 'バックエンド',
        'skills_database': 'データベース',
        'skills_ai': 'AI/ML & データ',
        'skills_devops': 'DevOps & クラウド',
        'skills_tools': 'ツール & 協業',
        'skills_design': '設計 & 分析',
        'skills_doc': 'ドキュメンテーション',
        'skills_ide': '開発環境',
        'contact_title': '共に成長したいです',
        'contact_subtitle': 'データと技術で共に価値を創造する機会を待っています。',
        'contact_info': '連絡先情報',
        'contact_email': 'メール',
        'contact_github': 'GitHub',
        'contact_form': 'メッセージを残す',
        'contact_name': 'お名前',
        'contact_name_placeholder': 'お名前を入力してください',
        'contact_email_placeholder': '返信先のメールアドレス',
        'contact_message': 'メッセージ',
        'contact_message_placeholder': 'メッセージを入力してください',
        'contact_send': 'メッセージ送信',
        'footer_copyright': '© 2025 裵善花ポートフォリオ. All rights reserved.'
    },
    'zh': {
        'portfolio_title_suffix': '全栈开发者作品集',
        'language_name': '中文',
        'nav_about': '关于我',
        'nav_projects': '项目经历',
        'nav_skills': '技术栈',
        'nav_contact': '联系方式',
        'hero_name': '裵善花',
        'hero_title': '用数据解决问题，用技术创造价值的开发者',
        'hero_github': 'GitHub',
        'hero_email': '邮箱',
        'hero_years': '经验',
        'hero_projects': '项目',
        'hero_stacks': '技术栈',
        'hero_scroll': '了解更多',
        'about_title': '我的历程',
        'about_subtitle': '发现数据的潜力，成长为亲手构建解决方案的开发者的故事',
        'current_career': 'IT系统运维与改进',
        'current_year': '2023年至今',
        'current_role': '主导基于数据分析的系统运维效率提升和项目改进',
        'current_desc1': '基于数据分析为ERP运维提效和成本节约做出贡献',
        'current_desc2': '主导用户需求分析及系统改进项目的规划与执行',
        'current_desc3': '通过与开发团队协作及解决技术问题创造业务价值',
        'dev_transition': '开发能力集中强化',
        'dev_year': '2024年',
        'dev_role': '内化全栈开发及AI/ML能力',
        'dev_desc1': '完成1120小时集中式全栈培训（企业合作项目最优奖）',
        'dev_desc2': '通过多个个人/团队项目强化实战开发及问题解决能力',
        'dev_desc3': '学习数据分析及AI/ML技术并应用于实际项目',
        'prev_career': 'IT支持与规划',
        'prev_year': '多年经验',
        'prev_role': '为转向开发奠定基础',
        'prev_desc1': '通过IT支持/规划经验理解开发流程及生态',
        'prev_desc2': '体会到数据驱动决策重要性及亲自开发的必要性',
        'prev_desc3': '萌生为用户问题实现技术解决方案的渴望',
        'academic': '学业与基础能力',
        'academic_year': '2022年 ~ 2024年',
        'academic_role': '构建计算机科学基础与开发能力基石',
        'academic_desc1': '通过计算机科学学士学位奠定扎实的CS基础',
        'academic_desc2': '修完算法、数据结构等核心课程',
        'academic_desc3': '开发相关理论学习与实践并行',
        'projects_title': '项目经历',
        'projects_subtitle': '运用数据与技术将想法变为现实的项目经验',
        'project1_title': '🏟️ KBO联赛综合数据平台',
        'project1_tag': '数据平台',
        'project1_desc': '数据收集、整合与分析管道',
        'project2_title': '☕ 咖啡豆等级预测服务',
        'project2_tag': 'AI/ML Web',
        'project2_desc': '利用KNN算法根据咖啡豆特性数据预测等级，通过Web服务为用户提供便利。',
        'project3_title': '🎭 AI图像分析(口罩&个人色彩)',
        'project3_tag': 'AI视觉Web',
        'project3_desc': '结合深度学习模型(TF, OpenCV)与Web服务(Vue, Spring)，将图像分析结果有效地传递给用户。',
        'project4_title': '🚀 含AI面试的求职支持服务',
        'project4_tag': '全栈 AI',
        'project4_desc': '结合AI技术和Web服务，积累了解决求职者实际困难的全栈开发经验。',
        'project5_title': '🎤 面试回答分析器',
        'project5_tag': 'NLP AI',
        'project5_desc': '利用KoBERT模型分析面试回答意图，提供类别/表达/职位相关性预测及定制反馈。',
        'project6_title': '🎨 个人色彩诊断算法',
        'project6_tag': 'CV AI',
        'project6_desc': '开发了通过AI分析面部/眼睛颜色来诊断最佳个人色彩季节的算法。',
        'project7_title': '🤖 基于ChatGPT的服务规划',
        'project7_tag': 'AI 规划',
        'project7_desc': '防范电信诈骗模拟训练服务规划',
        'project8_title': '🛍️ Smartstore FAQベースRAGチャットボット',
        'project8_tag': '全栈 AI',
        'project8_desc': '基于OpenAI GPT与ChromaDB的向量检索聊天机器人',
        'project_demo': '详情',
        'project_github': 'GitHub',
        'project_ppt': '演示文稿',
        'skills_title': '技术栈',
        'skills_subtitle': '为解决问题和实现成长而学习和使用的技术',
        'skills_frontend': '前端',
        'skills_backend': '后端',
        'skills_database': '数据库',
        'skills_ai': 'AI/ML与数据',
        'skills_devops': 'DevOps与云',
        'skills_tools': '工具与协作',
        'skills_design': '设计与分析',
        'skills_doc': '文档',
        'skills_ide': '开发环境',
        'contact_title': '期待共同成长',
        'contact_subtitle': '期待着用数据和技术共同创造价值的机会。',
        'contact_info': '联系信息',
        'contact_email': '邮箱',
        'contact_github': 'GitHub',
        'contact_form': '给我留言',
        'contact_name': '姓名',
        'contact_name_placeholder': '请输入您的姓名',
        'contact_email_placeholder': '您的邮箱地址',
        'contact_message': '留言内容',
        'contact_message_placeholder': '请在此输入您的留言...',
        'contact_send': '发送留言',
        'footer_copyright': '© 2025 裵善花 作品集. All rights reserved.'
    }
};
let currentLanguage = 'ko';

function detectBrowserLanguage() {
    const browserLang = navigator.language.split('-')[0];
    return translations[browserLang] ? browserLang : 'ko';
}

function getLanguageFromURL() {
    const urlParams = new URLSearchParams(window.location.search);
    const langParam = urlParams.get('lang');
    return langParam && translations[langParam] ? langParam : null;
}

function changeLanguage(lang) {
    if(translations[lang]) {
        currentLanguage = lang;
        updateLanguage();
        const url = new URL(window.location.href);
        url.searchParams.set('lang', lang);
        window.history.replaceState({}, '', url);
        closeAllDropdowns(); // 언어 변경 후 드롭다운 닫기
    }
}

function updateLanguage() {
    document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        el.textContent = translations[currentLanguage]?.[key] || translations['ko'][key];
    });
    document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
        const key = el.getAttribute('data-i18n-placeholder');
        el.setAttribute('placeholder', translations[currentLanguage]?.[key] || translations['ko'][key]);
    });
    const titleKeyBase = '배선화 | ';
    const titleSuffix = translations[currentLanguage]?.['portfolio_title_suffix'] || translations['ko']['portfolio_title_suffix'];
    document.title = titleKeyBase + titleSuffix;
    const currentLangDisplay = document.getElementById('current-language');
    if(currentLangDisplay) {
        currentLangDisplay.textContent = translations[currentLanguage]?.['language_name'] || translations['ko']['language_name'];
    }
    document.documentElement.setAttribute('lang', currentLanguage);
    updateActiveNavLink();
}

function updateActiveNavLink() {
    const sections = document.querySelectorAll('section[id]');
    const navLinks = document.querySelectorAll('.nav-link');
    const mobileNavLinks = document.querySelectorAll('#mobile-menu a');
    let currentSectionId = '';
    const headerOffset = 80;
    sections.forEach(section => {
        const sectionTop = section.offsetTop;
        const sectionHeight = section.clientHeight;
        if(window.pageYOffset >= sectionTop - headerOffset && window.pageYOffset < sectionTop + sectionHeight - headerOffset) {
            currentSectionId = section.getAttribute('id');
        }
    });
    navLinks.forEach(link => {
        link.classList.remove('active', 'text-blue-600');
        link.classList.add('text-gray-600');
        if(link.getAttribute('href') === `#${currentSectionId}`) {
            link.classList.add('active', 'text-blue-600');
            link.classList.remove('text-gray-600');
        }
    });
    mobileNavLinks.forEach(link => {
        link.classList.remove('bg-blue-50', 'text-blue-600');
        link.classList.add('text-gray-700');
        if(link.getAttribute('href') === `#${currentSectionId}`) {
            link.classList.add('bg-blue-50', 'text-blue-600');
            link.classList.remove('text-gray-700');
        }
    });
}

function scrollToTop() {
    window.scrollTo({
        top: 0,
        behavior: 'smooth'
    });
}

function closeAllDropdowns() {
    document.querySelectorAll('.language-dropdown-content.open').forEach(dropdown => {
        dropdown.classList.remove('open');
    });
}
const urlLang = getLanguageFromURL();
const browserLang = detectBrowserLanguage();
currentLanguage = urlLang || browserLang;
updateLanguage();
